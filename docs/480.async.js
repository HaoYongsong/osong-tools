!(function(){var p=(D,O,u)=>new Promise((S,E)=>{var c=t=>{try{a(u.next(t))}catch(R){E(R)}},f=t=>{try{a(u.throw(t))}catch(R){E(R)}},a=t=>t.done?S(t.value):Promise.resolve(t.value).then(c,f);a((u=u.apply(D,O)).next())});(function(){var D={189:function(E){function c(f){return Promise.resolve().then(function(){var a=new Error("Cannot find module '"+f+"'");throw a.code="MODULE_NOT_FOUND",a})}c.keys=function(){return[]},c.resolve=c,c.id=189,E.exports=c}},O={};function u(E){var c=O[E];if(c!==void 0)return c.exports;var f=O[E]={exports:{}};return D[E](f,f.exports,u),f.exports}(function(){u.o=function(E,c){return Object.prototype.hasOwnProperty.call(E,c)}})();var S={};(function(){"use strict";const E="text/javascript",c="application/wasm",a="https://unpkg.com/@ffmpeg/core@0.12.9/dist/umd/ffmpeg-core.js";var t;(function(e){e.LOAD="LOAD",e.EXEC="EXEC",e.FFPROBE="FFPROBE",e.WRITE_FILE="WRITE_FILE",e.READ_FILE="READ_FILE",e.DELETE_FILE="DELETE_FILE",e.RENAME="RENAME",e.CREATE_DIR="CREATE_DIR",e.LIST_DIR="LIST_DIR",e.DELETE_DIR="DELETE_DIR",e.ERROR="ERROR",e.DOWNLOAD="DOWNLOAD",e.PROGRESS="PROGRESS",e.LOG="LOG",e.MOUNT="MOUNT",e.UNMOUNT="UNMOUNT"})(t||(t={}));const R=new Error("unknown message type"),I=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),v=new Error("called FFmpeg.terminate()"),w=new Error("failed to import ffmpeg-core.js");let r;const L=l=>p(this,[l],function*({coreURL:e,wasmURL:o,workerURL:n}){const i=!r;try{e||(e=a),importScripts(e)}catch(m){if((!e||e===a)&&(e=a.replace("/umd/","/esm/")),self.createFFmpegCore=(yield u(189)(e)).default,!self.createFFmpegCore)throw w}const s=e,_=o||e.replace(/.js$/g,".wasm"),g=n||e.replace(/.js$/g,".worker.js");return r=yield self.createFFmpegCore({mainScriptUrlOrBlob:`${s}#${btoa(JSON.stringify({wasmURL:_,workerURL:g}))}`}),r.setLogger(m=>self.postMessage({type:t.LOG,data:m})),r.setProgress(m=>self.postMessage({type:t.PROGRESS,data:m})),i}),k=({args:e,timeout:o=-1})=>{r.setTimeout(o),r.exec(...e);const n=r.ret;return r.reset(),n},A=({args:e,timeout:o=-1})=>{r.setTimeout(o),r.ffprobe(...e);const n=r.ret;return r.reset(),n},N=({path:e,data:o})=>(r.FS.writeFile(e,o),!0),b=({path:e,encoding:o})=>r.FS.readFile(e,{encoding:o}),d=({path:e})=>(r.FS.unlink(e),!0),T=({oldPath:e,newPath:o})=>(r.FS.rename(e,o),!0),C=({path:e})=>(r.FS.mkdir(e),!0),F=({path:e})=>{const o=r.FS.readdir(e),n=[];for(const l of o){const i=r.FS.stat(`${e}/${l}`),s=r.FS.isDir(i.mode);n.push({name:l,isDir:s})}return n},P=({path:e})=>(r.FS.rmdir(e),!0),h=({fsType:e,options:o,mountPoint:n})=>{const l=e,i=r.FS.filesystems[l];return i?(r.FS.mount(i,o,n),!0):!1},U=({mountPoint:e})=>(r.FS.unmount(e),!0);self.onmessage=l=>p(this,[l],function*({data:{id:e,type:o,data:n}}){const i=[];let s;try{if(o!==t.LOAD&&!r)throw I;switch(o){case t.LOAD:s=yield L(n);break;case t.EXEC:s=k(n);break;case t.FFPROBE:s=A(n);break;case t.WRITE_FILE:s=N(n);break;case t.READ_FILE:s=b(n);break;case t.DELETE_FILE:s=d(n);break;case t.RENAME:s=T(n);break;case t.CREATE_DIR:s=C(n);break;case t.LIST_DIR:s=F(n);break;case t.DELETE_DIR:s=P(n);break;case t.MOUNT:s=h(n);break;case t.UNMOUNT:s=U(n);break;default:throw R}}catch(_){self.postMessage({id:e,type:t.ERROR,data:_.toString()});return}s instanceof Uint8Array&&i.push(s.buffer),self.postMessage({id:e,type:o,data:s},i)})})()})();
}());